<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Document</title>
</head>
<body>
    <script>
      var request = new XMLHttpRequest();

request.open("GET", "https://restcountries.eu/rest/v2/all", true); //true if any error it will not stop execution
request.send();


request.onload = function () {
    var data = JSON.parse(this.response); //why json parse bcoz response will come as string
    // console.log(data);

    //  Task 1. Print all countries name from rest countries API
    for (var i in data) {
        console.log("country name", data[i].name);
    }

    //Task 5.  Extract and print the total population of all the countries in the console
    let totalPopulation = 0;
    for (var i in data) {
        /*  console.log(
              "country name and population",
              data[i].name,
              data[i].population
          );*/
        totalPopulation = totalPopulation + data[i].population++;
        console.log("Total population of all countries", totalPopulation);
    }
};

//Task2. write up on Difference between copy by value and copy by reference.
//Will attach this in doc file



//Task3. How to copy by value a composite data type (array+objects).
//Below are three important ways to copy by value a composite data type

// 1.Use the spread (...) syntax

//Using arrays

var arr = [23, 45, 56, 78];

var spreadArr = [...arr];
arr[0] = 5; //It will not reflect in spread array.Hence it's internally using copy by value
console.log(spreadArr); //[23, 45, 56, 78]
console.log(arr); //[5, 45, 56, 78]


//Using objects
var obj = { a: 1, b: 2 };
var spreadObj = { ...obj };
obj.c = 8;  //It will not reflect in spread object.Hence it's internally using copy by value
console.log(spreadObj); // {a: 1, b: 2}
console.log(obj); //{a: 1, b: 2, c: 8}

/*************************************/
//2.Use the Object.assign() method

//Using objects
var spdObj = Object.assign({}, obj);
obj.name = "arun";
console.log(spdObj); // {a: 1, b: 2, c: 8}
console.log(obj);    //{a: 1, b: 2, c: 8, name: "arun"}

/******************************** */
//3.Use JSON.stringify() and JSON.parse() methods

//Using objects

var copiedObj = JSON.parse(JSON.stringify(obj));
obj.password = "asdada"; //It will not affect the copiedObj

console.log(copiedObj); //{a: 1, b: 2, c: 8, name: "arun"}
console.log(obj);// {a: 1, b: 2, c: 8, name: "arun", password: "asdada"}
    </script>

</body>
</html>